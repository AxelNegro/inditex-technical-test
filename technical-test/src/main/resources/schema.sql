CREATE TABLE BRANDS (
    ID BIGINT NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(255) NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE PRODUCTS (
    ID BIGINT NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(255) NOT NULL,
    PRIMARY KEY (ID)
);

CREATE TABLE PRICES (
    ID BIGINT NOT NULL AUTO_INCREMENT,
    PRODUCT_ID BIGINT NOT NULL,
    BRAND_ID BIGINT NOT NULL,
    START_DATE TIMESTAMP,
    END_DATE TIMESTAMP,
    PRIORITY INT,
    PRICE DOUBLE PRECISION,
    CURR VARCHAR(3),
    PRIMARY KEY (ID),
    FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS(ID),
    FOREIGN KEY (BRAND_ID) REFERENCES BRANDS(ID)
);

CREATE INDEX IX_PRICES ON PRICES(ID, PRODUCT_ID, BRAND_ID);